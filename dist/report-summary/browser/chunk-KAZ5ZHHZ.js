import{a as x,b as se}from"./chunk-YDQGXOIA.js";import{a as T}from"./chunk-LHZUTBXF.js";import{a as ae,b as pe}from"./chunk-SQRLWJCJ.js";import"./chunk-PJWGF4NK.js";import{a as W}from"./chunk-OTROWG7S.js";import{Ba as y,Ca as le,H as V,T as z,X as G,Y as H,ba as J,ca as Z,da as q,ea as K,fa as Q,ga as X,ia as Y,ja as ee,ka as te,oa as oe,pa as ie,ua as ne,w as A,wa as re,z as B}from"./chunk-N46ENOW6.js";import{f as L,g as N,i as O,j as $,t as D,v as F}from"./chunk-ETXJNP3A.js";import"./chunk-4FRUSUS7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-DUKM7HWQ.js";import"./chunk-XNADYL7L.js";import"./chunk-3GJ7TQK2.js";import"./chunk-4AJ5TPEV.js";import{Ab as k,Bb as g,Eb as E,Fb as j,La as s,Ma as v,_a as u,ab as p,db as n,ea as d,eb as r,fb as U,jb as S,kb as m,la as f,lb as h,p as R,tb as _,ub as P,va as b,wa as C,xb as I,yb as w,zb as M}from"./chunk-45DPJSY7.js";import"./chunk-JWVEZ7LL.js";import"./chunk-J4Z3Y3GN.js";import"./chunk-6IHAYORV.js";import"./chunk-L6PNYW6G.js";import"./chunk-WIKMGYWI.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-2ERNAIXA.js";import"./chunk-CKP3SGE2.js";import"./chunk-S25USO7A.js";import"./chunk-2VC3RZCL.js";import"./chunk-GX2ORJUI.js";import"./chunk-DMYLG4UX.js";import"./chunk-DDOBVB2Y.js";import"./chunk-TLQMGTG2.js";import"./chunk-M2X7KQLB.js";import"./chunk-3IVKBF6N.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-FP7EQKGB.js";function de(i,c){if(i&1){let e=S();n(0,"ion-item",17),m("click",function(){let o=b(e).$implicit,l=h(3);return C(l.selectProject(o.projectname))}),n(1,"ion-label"),_(2),r()()}if(i&2){let e=c.$implicit;s(2),P(e.projectname)}}function _e(i,c){if(i&1&&(n(0,"ion-list",15),u(1,de,3,1,"ion-item",16),r()),i&2){let e=c.ngIf,t=h(2);s(),p("ngForOf",t.filterItems(e,t.projectSearch,"projectname",t.projectSelected))}}function ue(i,c){if(i&1&&(n(0,"ion-row")(1,"ion-col",7),u(2,_e,2,1,"ion-list",14),E(3,"async"),r()()),i&2){let e=h();s(2),p("ngIf",j(3,1,e.teamsList$))}}function he(i,c){if(i&1){let e=S();n(0,"ion-item",17),m("click",function(){let o=b(e).$implicit,l=h(3);return C(l.selectEmployee(o.firstName))}),n(1,"ion-label"),_(2),r()()}if(i&2){let e=c.$implicit;s(2),P(e.firstName)}}function fe(i,c){if(i&1&&(n(0,"ion-list",15),u(1,he,3,1,"ion-item",16),r()),i&2){let e=c.ngIf,t=h(2);s(),p("ngForOf",t.filterItems(e,t.employeeSearch,"firstName",t.employeeSelected))}}function ge(i,c){if(i&1&&(n(0,"ion-row")(1,"ion-col",7),u(2,fe,2,1,"ion-list",14),E(3,"async"),r()()),i&2){let e=h();s(2),p("ngIf",j(3,1,e.registerList$))}}var me=(()=>{class i{constructor(e){this.modalCtrl=e,this.toaster=d(W),this.projectSearch="",this.employeeSearch="",this.projectSelected=!1,this.employeeSelected=!1,this.modalCtrl.getTop().then(t=>{t?.componentProps&&(this.teamsList$=t.componentProps.teamsList$,this.registerList$=t.componentProps.registerList$)})}selectProject(e){this.projectSearch=e,this.projectSelected=!0}selectEmployee(e){this.employeeSearch=e,this.employeeSelected=!0}clearProjectSearch(){this.projectSearch="",this.projectSelected=!1}clearEmployeeSearch(){this.employeeSearch="",this.employeeSelected=!1}onProjectTyping(){this.projectSelected=!1}onEmployeeTyping(){this.employeeSelected=!1}filterItems(e,t,o,l){return!t||l?[]:e.filter(a=>a[o]?.toString().toLowerCase().includes(t.toLowerCase()))}closeModal(){this.modalCtrl.dismiss()}tagEmployee(){if(!this.projectSelected||!this.employeeSelected){this.toaster.show("warning","Please enter all fields!");return}this.modalCtrl.dismiss(),this.toaster.show("success","Employee tagged successfully!")}static{this.\u0275fac=function(t){return new(t||i)(v(y))}}static{this.\u0275cmp=f({type:i,selectors:[["app-reusable-pop-up"]],standalone:!0,features:[g],decls:31,vars:6,consts:[[1,"modal-wrapper"],["color","light"],["slot","start"],["slot","end"],["fill","clear",3,"click"],["name","close-outline",1,"icon-medium"],[1,"ion-padding"],["size","8"],[1,"ion-margin"],[3,"ngModelChange","ionClear","ionInput","ngModel","debounce"],[4,"ngIf"],["size","8",1,"ion-margin-top"],["animated","true",3,"ngModelChange","ionClear","ionInput","ngModel","debounce"],[3,"click"],["class","scroll-list",4,"ngIf"],[1,"scroll-list"],["button","","lines","none",3,"click",4,"ngFor","ngForOf"],["button","","lines","none",3,"click"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"ion-header")(2,"ion-toolbar",1)(3,"ion-buttons",2)(4,"ion-title")(5,"b"),_(6,"Tag Employee"),r()()(),n(7,"ion-buttons",3)(8,"ion-button",4),m("click",function(){return o.closeModal()}),U(9,"ion-icon",5),r()()()(),n(10,"ion-content",6)(11,"ion-grid")(12,"ion-row")(13,"ion-col",7)(14,"ion-label",8),_(15,"Project Name"),r(),n(16,"ion-searchbar",9),M("ngModelChange",function(a){return w(o.projectSearch,a)||(o.projectSearch=a),a}),m("ionClear",function(){return o.clearProjectSearch()})("ionInput",function(){return o.onProjectTyping()}),r()()(),u(17,ue,4,3,"ion-row",10),n(18,"ion-row")(19,"ion-col",11)(20,"ion-label",8),_(21,"Employee Name"),r(),n(22,"ion-searchbar",12),M("ngModelChange",function(a){return w(o.employeeSearch,a)||(o.employeeSearch=a),a}),m("ionClear",function(){return o.clearEmployeeSearch()})("ionInput",function(){return o.onEmployeeTyping()}),r()()(),u(23,ge,4,3,"ion-row",10),r()(),n(24,"ion-footer")(25,"ion-toolbar")(26,"ion-buttons",3)(27,"ion-button",13),m("click",function(){return o.closeModal()}),_(28,"Close"),r(),n(29,"ion-button",13),m("click",function(){return o.tagEmployee()}),_(30,"Save"),r()()()()()),t&2&&(s(16),I("ngModel",o.projectSearch),p("debounce",300),s(),p("ngIf",o.projectSearch&&!o.projectSelected),s(5),I("ngModel",o.employeeSearch),p("debounce",300),s(),p("ngIf",o.employeeSearch&&!o.employeeSelected))},dependencies:[le,G,H,J,Z,q,K,Q,X,Y,ee,te,oe,ie,ne,re,z,$,L,N,O,V,A,B],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:70%}ion-footer[_ngcontent-%COMP%]{position:relative}.custom-searchbar[_ngcontent-%COMP%]   .searchbar-input-container[_ngcontent-%COMP%]{border-bottom:none!important}.dropdown-wrapper[_ngcontent-%COMP%]{position:relative;z-index:10;margin-top:-8px}.custom-list[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 12px #0000001a;margin:0;padding:0}ion-item[_ngcontent-%COMP%]{--border-width: 0;--inner-border-width: 0}.scroll-list[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;border-radius:8px;box-shadow:0 2px 8px #0000001a}.ion-margin[_ngcontent-%COMP%]{margin-left:7px}ion-searchbar.search-bar-input[_ngcontent-%COMP%]   .searchbar-input[_ngcontent-%COMP%]{background-color:#f6f5f5!important}"]})}}return i})();var Fe=(()=>{class i{constructor(){this.label="Employee",this.modalController=d(y),this.route=d(F),this.router=d(D),this.teamStore=d(T),this.registerStore=d(x),this.registerList$=this.registerStore.register$,this.teamsList$=this.teamStore.team$,this.columns=[{header:"Employee ID",field:"employeeId"},{header:"Employee Name",field:"employeeName"},{header:"Mail id",field:"mailId"},{header:"Project",field:"project"},{header:"Action",field:"action",type:["edit","delete"]}],this.employees=[{employeeId:"EMP001",employeeName:"Alice Johnson",mailId:"alice.johnson@example.com",project:"Zira Clone"},{employeeId:"EMP002",employeeName:"Bob Smith",mailId:"bob.smith@example.com",project:"iTraceu Enhancement"},{employeeId:"EMP003",employeeName:"Charlie Lee",mailId:"charlie.lee@example.com",project:"Onboarding Portal"},{employeeId:"EMP004",employeeName:"Diana Cruz",mailId:"diana.cruz@example.com",project:"Payroll Integration"},{employeeId:"EMP005",employeeName:"Ethan Patel",mailId:"ethan.patel@example.com",project:"UI Revamp"},{employeeId:"EMP006",employeeName:"Fiona Wright",mailId:"fiona.wright@example.com",project:"Admin Dashboard"}],this.employeelist$=R(this.employees)}ngOnInit(){this.teamStore.getTeam(),this.registerStore.getRegisterData({role:"employee"}),this.router.paramMap.subscribe(e=>{console.log(e.get("id")),this.employeeId=e.get("id")})}handleRowAction(e){switch(e.type){case"create":this.loadCreateEmployeeModal();break;case"tagEmployee":this.loadtagEmployeeModal();break;case"edit":this.loadCreateEmployeeModal();break;case"delete":this.deleteModal();break;default:console.log("Unknown action type:",e.type)}}loadCreateEmployeeModal(){this.modalController.create({component:se,componentProps:{role:"employee"}}).then(e=>{e.present(),e.onDidDismiss().then(t=>{console.log("Modal dismissed with data:",t)})})}loadtagEmployeeModal(){this.modalController.create({component:me,cssClass:"custom-modal",componentProps:{teamsList$:this.teamsList$,registerList$:this.registerList$}}).then(e=>{e.present(),e.onDidDismiss().then(t=>{console.log("Modal dismissed with data:",t)})})}deleteModal(){this.modalController.create({component:pe,cssClass:"custom-delete-modal",componentProps:{role:"delete"}}).then(e=>{e.present(),e.onDidDismiss().then(t=>{console.log("Modal dismissed with data:",t)})})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=f({type:i,selectors:[["app-employees"]],standalone:!0,features:[k([T,x]),g],decls:1,vars:3,consts:[[3,"rowAction","columns","data","label"]],template:function(t,o){t&1&&(n(0,"app-reusable-table",0),m("rowAction",function(a){return o.handleRowAction(a)}),r()),t&2&&p("columns",o.columns)("data",o.employeelist$)("label",o.label)},dependencies:[ae]})}}return i})();export{Fe as EmployeesComponent};

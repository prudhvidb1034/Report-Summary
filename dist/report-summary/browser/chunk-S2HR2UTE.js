import{a as S}from"./chunk-LHZUTBXF.js";import{a as ne,b as ie}from"./chunk-SQRLWJCJ.js";import{a as v,e as z}from"./chunk-OTROWG7S.js";import{A,B as N,Ba as O,Ca as F,E as R,G as b,H as V,I as M,T as G,X as B,Y as $,ba as H,ca as J,da as K,ea as Q,fa as U,ga as W,ha as X,ia as Y,oa as Z,sa as ee,ua as te,v as c,w as q,wa as oe,x as L}from"./chunk-N46ENOW6.js";import{j,t as E,v as k,y as D}from"./chunk-ETXJNP3A.js";import"./chunk-4FRUSUS7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-DUKM7HWQ.js";import"./chunk-XNADYL7L.js";import"./chunk-3GJ7TQK2.js";import"./chunk-4AJ5TPEV.js";import{Ab as I,Bb as P,La as a,Ma as y,Ua as T,_a as C,ab as u,bb as x,cb as p,db as r,ea as l,eb as i,fb as _,kb as f,la as g,lb as w,tb as d}from"./chunk-45DPJSY7.js";import"./chunk-JWVEZ7LL.js";import"./chunk-J4Z3Y3GN.js";import"./chunk-6IHAYORV.js";import"./chunk-L6PNYW6G.js";import"./chunk-WIKMGYWI.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-2ERNAIXA.js";import"./chunk-CKP3SGE2.js";import"./chunk-S25USO7A.js";import"./chunk-2VC3RZCL.js";import"./chunk-GX2ORJUI.js";import"./chunk-DMYLG4UX.js";import"./chunk-DDOBVB2Y.js";import"./chunk-TLQMGTG2.js";import"./chunk-M2X7KQLB.js";import"./chunk-3IVKBF6N.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-FP7EQKGB.js";function le(n,h){n&1&&(r(0,"p"),d(1,"Project Name is required."),i())}function me(n,h){n&1&&(r(0,"p"),d(1,"Minimum 3 characters required."),i())}function ce(n,h){if(n&1&&(r(0,"ion-text",9),C(1,le,2,0,"p")(2,me,2,0,"p"),i()),n&2){let e,t,o=w();a(),p(1,!((e=o.teamForm.get("projectname"))==null||e.errors==null)&&e.errors.required?1:-1),a(),p(2,!((t=o.teamForm.get("projectname"))==null||t.errors==null)&&t.errors.minlength?2:-1)}}function se(n,h){n&1&&(r(0,"p"),d(1,"Project Location is required."),i())}function de(n,h){n&1&&(r(0,"p"),d(1,"Minimum 3 characters required."),i())}function pe(n,h){if(n&1&&(r(0,"ion-text",9),C(1,se,2,0,"p")(2,de,2,0,"p"),i()),n&2){let e,t,o=w();a(),p(1,!((e=o.teamForm.get("projectlocation"))==null||e.errors==null)&&e.errors.required?1:-1),a(),p(2,!((t=o.teamForm.get("projectlocation"))==null||t.errors==null)&&t.errors.minlength?2:-1)}}var re=(()=>{class n{constructor(){this.fb=l(b),this.toast=l(v),this.isModalOpen=!1,this.modalCtrl=l(O)}ngOnInit(){this.CreateForm()}CreateForm(){this.teamForm=this.fb.group({projectname:["",[c.required,c.minLength(3)]],projectlocation:["",c.required],startDate:["",c.required],endDate:[""]})}setOpen(e){this.isModalOpen=e,this.modalCtrl.dismiss(),this.teamForm.reset()}SubmitForm(){let e=this.teamForm.value;this.teamForm.valid?(this.setOpen(!1),this.teamForm.reset(),this.toast.show("success","Project created successfully!")):(this.toast.show("error","Please fill in all required fields."),this.teamForm.markAllAsTouched())}isInvalid(e){let t=this.teamForm.get(e);return!!(t&&t.invalid&&t.touched)}isValid(e){let t=this.teamForm.get(e);return!!(t&&t.valid&&t.touched)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=g({type:n,selectors:[["app-create-project"]],standalone:!0,features:[P],decls:28,vars:13,consts:[[1,"modal-wrapper"],["color","light"],["slot","end"],["fill","clear",3,"click"],["name","close-outline",1,"icon-medium"],[3,"formGroup"],["size","6"],["lines","none",1,"custom-item"],["formControlName","projectname","label","Project Name","labelPlacement","floating","placeholder","Enter project name",1,"label-texts",3,"clearOnEdit"],["color","danger",1,"error-message"],["formControlName","projectlocation","label","Project Location","labelPlacement","floating","placeholder","Enter project location",1,"label-texts",3,"clearOnEdit"],[1,"close",3,"click"],[1,"save",3,"click"]],template:function(t,o){if(t&1&&(r(0,"div",0)(1,"ion-header")(2,"ion-toolbar",1)(3,"ion-title")(4,"b"),d(5,"Create Project"),i()(),r(6,"ion-buttons",2)(7,"ion-button",3),f("click",function(){return o.setOpen(!1)}),_(8,"ion-icon",4),i()()()(),r(9,"ion-content")(10,"form",5)(11,"ion-grid")(12,"ion-row")(13,"ion-col",6)(14,"ion-item",7),_(15,"ion-input",8),i(),C(16,ce,3,2,"ion-text",9),i(),r(17,"ion-col",6)(18,"ion-item",7),_(19,"ion-input",10),i(),C(20,pe,3,2,"ion-text",9),i()()()()(),r(21,"ion-footer")(22,"ion-toolbar")(23,"ion-buttons",2)(24,"ion-button",11),f("click",function(){return o.setOpen(!1)}),d(25,"Close"),i(),r(26,"ion-button",12),f("click",function(){return o.SubmitForm()}),d(27,"Save"),i()()()()()),t&2){let m,s;a(10),u("formGroup",o.teamForm),a(4),x("invalid",o.isInvalid("projectname"))("valid",o.isValid("projectname")),a(),u("clearOnEdit",!0),a(),p(16,(m=o.teamForm.get("projectname"))!=null&&m.invalid&&((m=o.teamForm.get("projectname"))!=null&&m.dirty||(m=o.teamForm.get("projectname"))!=null&&m.touched)?16:-1),a(2),x("invalid",o.isInvalid("projectlocation"))("valid",o.isValid("projectlocation")),a(),u("clearOnEdit",!0),a(),p(20,(s=o.teamForm.get("projectlocation"))!=null&&s.invalid&&((s=o.teamForm.get("projectlocation"))!=null&&s.dirty||(s=o.teamForm.get("projectlocation"))!=null&&s.touched)?20:-1)}},dependencies:[F,B,$,H,J,K,Q,U,W,X,Y,Z,ee,te,oe,G,j,M,A,q,L,N,R],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:70%}ion-content[_ngcontent-%COMP%]{flex:1;--padding-bottom: 0;--margin-bottom: 0}.custom-content[_ngcontent-%COMP%]{--background: transparent;height:auto;min-height:100%}.custom-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px}.custom-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:8px}.custom-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;margin-top:-8px;margin-bottom:12px;font-size:12px}ion-content[_ngcontent-%COMP%]{--overflow: hidden}ion-grid[_ngcontent-%COMP%]{margin-top:10px}"]})}}return n})();var qe=(()=>{class n{handleRowAction(e){switch(e.type){case"viewTeam":this.router.navigate(["/projects/employees",e.item.id]);break;case"create":this.loadCreateEmployeeModal();break;case"edit":this.loadCreateEmployeeModal();break;case"delete":this.deleteModal();break;default:console.log("failing")}}constructor(e){this.route=e,this.label="Project",this.columns=[{header:"ID",field:"id"},{header:"Project Name",field:"projectname"},{header:"Location",field:"projectLocation"},{header:"Teams",field:"viewTeam",linkEnable:!0},{header:"Action",field:"action",type:["edit","delete"]}],this.url="http://localhost:3000/teamslist",this.isModalOpen=!1,this.fb=l(b),this.toast=l(v),this.router=l(k),this.teamList=T([]),this.teamStore=l(S),this.teamList$=this.teamStore.team$,this.modalController=l(O),this.loginStore=l(z),this.teamStore.getTeam()}ngOnInit(){this.CreateForm()}goToProject(e){console.log(e),this.router.navigate(["/projects/employees"])}setOpen(e){this.isModalOpen=e,this.teamForm.reset()}CreateForm(){this.teamForm=this.fb.group({projectname:["",[c.required,c.minLength(3)]],projectlocation:["",c.required],startDate:["",c.required],endDate:[""]})}SubmitForm(){let e=this.teamForm.value;this.teamForm.valid?(this.teamStore.addTeam(e),this.setOpen(!1),this.teamForm.reset(),this.toast.show("success","Project created successfully!")):(this.toast.show("error","Please fill in all required fields."),this.teamForm.markAllAsTouched())}loadCreateEmployeeModal(){this.modalController.create({component:re,cssClass:"custom-modal",componentProps:{}}).then(e=>{e.present(),e.onDidDismiss().then(t=>{console.log("Modal dismissed with data:",t)})})}deleteModal(){this.modalController.create({component:ie,cssClass:"custom-delete-modal",componentProps:{role:"delete"}}).then(e=>{e.present(),e.onDidDismiss().then(t=>{console.log("Modal dismissed with data:",t)})})}static{this.\u0275fac=function(t){return new(t||n)(y(E))}}static{this.\u0275cmp=g({type:n,selectors:[["app-projects"]],standalone:!0,features:[I([S]),P],decls:1,vars:3,consts:[[3,"rowAction","columns","data","label"]],template:function(t,o){t&1&&(r(0,"app-reusable-table",0),f("rowAction",function(s){return o.handleRowAction(s)}),i()),t&2&&u("columns",o.columns)("data",o.teamList$)("label",o.label)},dependencies:[V,D,F,j,M,ne],styles:[".stack-dropdown[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:6px;font-weight:500;color:#333;font-size:20px}.stack-dropdown[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{padding-top:4px;font-size:14px}.project-table[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{align-items:center}.project-table[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:8px 4px;word-break:break-word;font-size:12px;font-weight:400}.project-table[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{background-color:#f4f4f4}.project-table[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{background-color:#f9f9f9}@media (max-width: 768px){.project-table[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{flex-wrap:wrap}.project-table[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;justify-content:flex-start}.project-table[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%], .project-table[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]{font-size:14px}}  .searchbar-input{border-radius:4px!important}"]})}}return n})();export{qe as ProjectListComponent};

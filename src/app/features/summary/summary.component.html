
<ion-grid>
  <ion-row style="display: flex;align-items: center;">
    <ion-col class="ion-text-start">
      <span class="project-title"> Weekly Summary List</span>
    </ion-col>

    <!-- <ion-col class="ion-text-end" size="auto" 
    style="display: flex; align-items: center;">
      
    
    
      
     
    </ion-col> -->
  </ion-row>
</ion-grid><ion-grid class="week-table">
  <!-- Table Header -->
  <ion-row class="header-row ion-text-center">
    <ion-col size="3">Week ID</ion-col>
    <ion-col size="3">Start Date</ion-col>
    <ion-col size="3">End Date</ion-col>
    <ion-col size="3">Action</ion-col>
  </ion-row>

  <!-- Table Rows with @for -->
  @for (week of weekList; track week.weekId) {
    <ion-row class="data-row ion-text-center">
      <ion-col size="3">{{ week.weekId }}</ion-col>
      <ion-col size="3">{{ week.startDate }}</ion-col>
      <ion-col size="3">{{ week.endDate }}</ion-col>
      <ion-col size="3">
        <ion-button fill="clear" size="small" title="View" >
          <ion-icon name="eye-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  } @empty {
    <ion-row class="ion-text-center">
      <ion-col size="12">No week data available.</ion-col>
    </ion-row>
  }
</ion-grid>








<!-- <ion-card style="
    width: 500px;
    position: absolute;
    top: 55%;
    left: 50%;
    transform: translate(-50%, -50%);
  ">
  <ion-header>
    <ion-toolbar>
      <ion-title class="ion-padding" style="text-align: center">Week Summary
      </ion-title>
    </ion-toolbar>
  </ion-header>


  <ion-card-content>
    <ion-list>
      <form [formGroup]="weekSummaryForm" class="register-form" (ngSubmit)="onSubmit()">

        <ion-item>
          <ion-select label="Projects" label-placement="floating" formControlName="project">
            <ion-select-option *ngFor="let p of projects" [value]="p">
              {{ p.projectname }}
            </ion-select-option>
          </ion-select>
        </ion-item>
        @if (weekSummaryForm.get('project')?.invalid &&
        (weekSummaryForm.get('project')?.dirty ||
        weekSummaryForm.get('project')?.touched)) {
        <ion-note color="danger">
          @if (weekSummaryForm.get('project')?.errors?.['required']) {
          <span>Project selection is required</span>
          }
        </ion-note>
        }


        <ion-item>
          <ion-input type="date" formControlName="startDate" label="Week Start Date" labelPlacement="floating"
            placeholder="Select start of week" [clearOnEdit]="true"></ion-input>
        </ion-item>
        @if (weekSummaryForm.get('startDate')?.invalid &&
        (weekSummaryForm.get('startDate')?.dirty ||
        weekSummaryForm.get('startDate')?.touched)) {
        <ion-note color="danger">
          @if (weekSummaryForm.get('startDate')?.errors?.['required']) {
          <span>Start date is required</span>
          }
        </ion-note>
        }


        <ion-item>
          <ion-input type="date" formControlName="endDate" label="Week End Date" labelPlacement="floating"
            placeholder="End of week" (ionBlur)="validateDates()"></ion-input>
        </ion-item>
        @if (dateError && weekSummaryForm.get('endDate')?.touched) {
        <ion-note color="danger">
          {{ dateError }}
          @if (dateError &&
          weekSummaryForm.get('endDate')?.errors?.['required']) {
          <span>End date is required</span>
          }

        </ion-note>
        }
        <ion-item>
          <ion-textarea formControlName="upcomingTasks" label="Upcoming Tasks" labelPlacement="floating" placeholder="Enter">
          </ion-textarea>
        </ion-item>
        @if (weekSummaryForm.get('upcomingTasks')?.invalid &&
        (weekSummaryForm.get('upcomingTasks')?.dirty ||
        weekSummaryForm.get('upcomingTasks')?.touched)) {
        <ion-note color="danger">
          @if (weekSummaryForm.get('upcomingTasks')?.errors?.['required']) {
          <span>Upcoming Tasks are required</span>
          } @if (weekSummaryForm.get('upcomingTasks')?.errors?.['minlength']) { }
        </ion-note>
        }

        <ion-row class="ion-margin-top">
          <ion-col>
            <ion-button expand="block" type="submit" style="--background: #000033"
              [disabled]="!weekSummaryForm.valid || dateError">
              Submit
            </ion-button>
          </ion-col>
        </ion-row>
      </form>
    </ion-list>
  </ion-card-content>
</ion-card> -->
import{a as l,b as d}from"./chunk-FIIRCHDF.js";import"./chunk-YIKJSF4E.js";import"./chunk-JNKSMFVL.js";import{a as v,b as I}from"./chunk-XV76ZKRI.js";import"./chunk-IPEDQWQT.js";import{Ca as w,Da as _,sa as S}from"./chunk-LCAD2BME.js";import"./chunk-JBQ62U6C.js";import"./chunk-WANN5XP4.js";import{g as y,i as D,j as b}from"./chunk-X2ZI6WJC.js";import"./chunk-OKAK23HW.js";import"./chunk-3ZBN7PZY.js";import"./chunk-HC6MZPB3.js";import"./chunk-SV2ZKNWA.js";import"./chunk-XGS4H5SF.js";import"./chunk-RS5W3JWO.js";import"./chunk-2U2U3MQ2.js";import"./chunk-WQJ4QNRK.js";import{Ab as h,Bb as u,Eb as C,Fb as M,La as p,_a as c,ab as i,db as n,ea as r,eb as s,fb as g,kb as f,la as m}from"./chunk-6BICWZAS.js";import"./chunk-QA7HW7QI.js";import"./chunk-RKR3YXXE.js";import"./chunk-UYQ7EZNZ.js";import"./chunk-7D6K5XYM.js";import"./chunk-OBXDPQ3V.js";import"./chunk-IDKUYNE4.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-MHPMO34D.js";import"./chunk-R52CLOUQ.js";import"./chunk-OUUNPNPW.js";import"./chunk-CPYOLLZG.js";import"./chunk-B7AAHVZY.js";import"./chunk-3IVKBF6N.js";import"./chunk-NMYJD6OP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-SV7S5NYR.js";import"./chunk-FP7EQKGB.js";function A(a,P){a&1&&(n(0,"div",2),g(1,"ion-spinner",3),s())}var z=(()=>{class a{constructor(){this.label="Manager",this.modalController=r(w),this.registerStore=r(l),this.managerList$=this.registerStore.register$,this.isLoading$=this.registerStore.select(e=>e.loading),this.columns=[{header:"Manager ID",field:"personId"},{header:"Manager Name",field:"firstName"},{header:"Mail id",field:"email"},{header:"Project",field:"projectNames"},{header:"Action",field:"action",type:["edit","delete"]}]}ngOnInit(){this.registerStore.getRegisterData("manager")}handleRowAction(e){switch(e.type){case"create":this.loadCreateEmployeeModal();break;case"edit":this.editCreateEmployeeModal(e.item);break;case"delete":this.deleteModal(e.item);break;default:console.log("Unknown action type:")}}loadCreateEmployeeModal(){this.modalController.create({component:d,componentProps:{role:"manager"}}).then(e=>{e.present(),e.onDidDismiss().then(t=>{this.registerStore.getRegisterData("manager"),console.log("Modal dismissed with data:",t)})})}editCreateEmployeeModal(e){this.modalController.create({component:d,componentProps:{role:"manager",editData:e}}).then(t=>{t.present(),t.onDidDismiss().then(o=>{this.registerStore.getRegisterData("manager"),console.log("Modal dismissed with data:12345667",o)})})}deleteModal(e){console.log("Selected row data for deletion:",e),this.modalController.create({component:I,cssClass:"custom-delete-modal",componentProps:{role:"delete",data:{id:e.personId,name:e.firstName}}}).then(t=>{t.present(),t.onDidDismiss().then(o=>{o?.data?.confirmed&&this.registerStore.deleteProject(o.data.id)})})}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=m({type:a,selectors:[["app-managers"]],standalone:!0,features:[h([l]),u],decls:3,vars:6,consts:[[3,"rowAction","columns","data","label"],["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],["name","crescent"]],template:function(t,o){t&1&&(n(0,"app-reusable-table",0),f("rowAction",function(R){return o.handleRowAction(R)}),s(),c(1,A,2,0,"div",1),C(2,"async")),t&2&&(i("columns",o.columns)("data",o.managerList$)("label",o.label),p(),i("ngIf",M(2,4,o.isLoading$)))},dependencies:[v,b,y,D,_,S]})}}return a})();export{z as ManagersComponent};
